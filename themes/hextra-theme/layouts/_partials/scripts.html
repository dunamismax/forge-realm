{{/* Ideal Magic SPA System - Load first for instant performance */}}
{{ $spa := resources.Get "js/ideal-magic-spa.js" | resources.Minify }}
<script src="{{ $spa.RelPermalink }}" defer></script>

{{/* Core scripts (theme, menu, tabs, etc.) */}}
{{- partial "scripts/core.html" . -}}

{{/* Search */}}
{{- partial "scripts/search.html" . -}}

{{/* Mermaid */}}
{{- if (.Store.Get "hasMermaid") -}}
  {{- partial "scripts/mermaid.html" . -}}
{{- end -}}

{{/* Enhanced JavaScript - Load after SPA for compatibility */}}
{{ $enhanced := resources.Get "js/ideal-magic-enhanced.js" | resources.Minify }}
<script src="{{ $enhanced.RelPermalink }}" defer></script>
